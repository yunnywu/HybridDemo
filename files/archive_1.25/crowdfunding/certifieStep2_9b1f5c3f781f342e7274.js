webpackJsonp([34],{263:function(e,t,n){"use strict";function a(e,t){var n;return n={},n[i.a]={types:[r,c,o],endpoint:"cfQIAuthSubmit",json:!0,params:{qualification:e,authImgUrl:t},showLoading:!0},n}var i=n(4);n.d(t,"b",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return o});var r="QI_AUTH_SUBMIT_REQUEST",c="QI_AUTH_SUBMIT_SUCCESS",o="QI_AUTH_SUBMIT_FAILURE";t.a=function(e,t){return function(n,i){var r=i().page.isFetching;return r?null:n(a(e,t))}}},3:function(e,t,n){var a,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a))e.push(n.apply(null,a));else if("object"===i)for(var c in a)r.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(a=[],i=function(){return n}.apply(t,a),!(void 0!==i&&(e.exports=i)))}()},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=n(566),r=n(526),c=n.i(a.a)(i.a);c(r.a)},417:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),o=n.n(c),u=n(1),s=n.n(u),l=n(3),f=n.n(l),h=n(615),p=(n.n(h),function(e){function t(n){a(this,t);var r=i(this,e.call(this,n));return r.getImageWH=function(e){return new Promise(function(t){var n=new Image;n.onload=function(){t({WH:n.height>n.width?"H":"W"})},n.src=e})},r.handelUpdateImageClick=function(e){e.preventDefault(),s.a.camera.customerPhoto().then(function(e){var t=e.fileId;r.getImageWH(t).then(function(e){var n=e.WH;r.setState({image:t,imageWH:n})})},function(e){var t=e.retCode;s.a.cons.FUNC_NOT_SUPPORT_EXCEPTION===t&&s.a.ui.toast("请升级到最新版APP或拨打客服热线4008-955-935咨询。")})},r.handelSubmitClick=function(e){e.preventDefault(),r.state.image&&r.state.checked&&s.a.upload({isPrivate:!0,files:[r.state.image]}).then(function(e){var t=e[r.state.image];r.props.qiAuthSubmit(r.props.qualification,t).then(function(e){var t=e.retCode,n=e.retMsg;0===t?s.a.navigator.cfAuthResult(3):100304===t?s.a.ui.toast("您的申请已经通过审核。").then(function(){s.a.ui.popView.goTo(2)}):s.a.ui.toast(n)})},function(){s.a.ui.toast("上传失败，请检查您的网络后重新上传。")})},r.handleCheckClick=function(e){e.preventDefault(),r.setState({checked:!r.state.checked})},r.handleRuleClick=function(e){e.preventDefault(),e.stopPropagation(),s.a.navigator.cfRule()},r.handleHelpClick=function(e){e.preventDefault(),s.a.navigator.olConsult().catch(function(e){var t=e.retCode;s.a.cons.FUNC_NOT_SUPPORT_EXCEPTION===t&&s.a.ui.toast("您可以拨打客服热线4008-955-935咨询。")})},r.state={image:null,checked:!0,imageWH:"H"},r}return r(t,e),t.prototype.render=function(){var e=void 0;return e=this.state.image?o.a.createElement("div",{className:f()("namecard-cont",{"view-h":"H"===this.state.imageWH,"view-w":"W"===this.state.imageWH})},o.a.createElement("img",{src:this.state.image})):o.a.createElement("div",{className:"namecard-cont"}),o.a.createElement("div",{className:"mod mod-certifie-step2"},e,o.a.createElement("div",{className:"button-cont"},o.a.createElement("a",{href:"#",className:"btn",onClick:this.state.image?this.handelSubmitClick:this.handelUpdateImageClick},this.state.image?"提交":"上传名片"),this.state.image&&o.a.createElement("a",{href:"#",className:"btn ghost",onClick:this.handelUpdateImageClick},"重新上传")),o.a.createElement("div",{className:"agreement-cont",onClick:this.handleCheckClick},o.a.createElement("span",{className:f()("icon-check",{checked:this.state.checked})}),"我承诺以上登记的所有信息属实，并对虚假信息产生的一切后果负责。我已阅读并同意签署",o.a.createElement("a",{href:"#",onClick:this.handleRuleClick},"《投资人规则》")),o.a.createElement("div",{className:"bot-fixed-cont"},o.a.createElement("p",null,"没带名片或上传遇到问题？",o.a.createElement("a",{href:"#",onClick:this.handleHelpClick},"请点击这里"))))},t}(c.Component));p.displayName="CrowdfundingCertifieStep2",p.propTypes={qualification:c.PropTypes.string,qiAuthSubmit:c.PropTypes.func},t.a=p},526:function(e,t,n){"use strict";function a(e){var t=e.query.qualification;return{qualification:t}}var i=n(0),r=n.n(i),c=n(5),o=n(263),u=n(417),s=function(e){var t=e.qualification,n=e.qiAuthSubmit;return t?r.a.createElement(u.a,{qualification:t,qiAuthSubmit:n}):null};s.displayName="CrowdfundingCertifieStep2Page",s.propTypes={qualification:i.PropTypes.string,qiAuthSubmit:i.PropTypes.func.isRequired},t.a=n.i(c.a)(a,{qiAuthSubmit:o.a})(s)},566:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1},t=arguments[1];switch(t.type){case o.b:return r()({},e,{isFetching:!0});case o.c:return r()({},e,{isFetching:!1});case o.d:return r()({},e,{isFetching:!1});default:return e}}var i=n(2),r=n.n(i),c=n(6),o=n(263);t.a=n.i(c.a)(a)},615:function(e,t){},947:function(e,t,n){e.exports=n(375)}},[947]);
//# sourceMappingURL=certifieStep2_9b1f5c3f781f342e7274.js.map