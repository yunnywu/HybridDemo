webpackJsonp([17],{14:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(0),i=r.n(s),p=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.renderItems=function(){var e=this.props.items.map(this.props.itemRenderer),t=this.props.className;return this.props.itemsRenderer(e,{className:t})},t.prototype.render=function(){var e=this.props.items;return e&&0!==e.length?this.renderItems():null},t}(s.Component);p.displayName="List",p.propTypes={className:s.PropTypes.string,items:s.PropTypes.array.isRequired,itemRenderer:s.PropTypes.func,itemsRenderer:s.PropTypes.func},p.defaultProps={itemRenderer:function(e,t){return i.a.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return i.a.createElement("div",t,e)}},t.a=p},158:function(e,t,r){function n(e,t,r){return e&&e.length?(t=r||void 0===t?1:a(t),o(e,0,t<0?0:t)):[]}var o=r(86),a=r(34);e.exports=n},16:function(e,t,r){function n(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=l.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):p.test(e)?s:+e}var o=r(8),a=r(37),s=NaN,i=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=n},191:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(158),i=r.n(s),p=r(0),l=r.n(p),c=r(1),u=r.n(c),f=r(3),m=r.n(f),h=r(195),d=r(20),y=r.n(d),v=r(15),g=function(e){function t(){var r,a,s;n(this,t);for(var i=arguments.length,p=Array(i),l=0;l<i;l++)p[l]=arguments[l];return r=a=o(this,e.call.apply(e,[this].concat(p))),a.handleItemClick=function(e){e.preventDefault(),a.canRoadShowEnroll()||!a.props.inDetail&&a.props.goDetail&&a.props.goDetail(a.props.pid)},a.handleStarClick=function(e){e.preventDefault(),e.stopPropagation(),a.props.addStar&&a.props.addStar(a.props.pid)},a.handlePlayBtnClick=function(e){e.preventDefault(),a.props.videoUrl&&u.a.ui.window.open(a.props.videoUrl,a.props.productName)},a.handleRoadShowEnrollBtnClick=function(e){e.preventDefault(),u.a.ui.window.open(a.props.roadShowEnrollUrl)},s=r,o(a,s)}return a(t,e),t.prototype.handleBannerClick=function(e){return function(t){t.preventDefault(),e&&u.a.ui.window.open(e)}},t.prototype.canRoadShowEnroll=function(){return!this.props.sellState&&0!==this.props.sellState},t.prototype.getSellStateText=function(){var e=void 0;switch(this.props.sellState){case 0:e="预热中";break;case 1:e="募集中";break;case 2:e="已结束";break;case 3:e="募集中";break;default:e="已结束"}return e},t.prototype.renderTitle=function(){return l.a.createElement("div",{className:"row sec-intro"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",{className:"title"},l.a.createElement("span",{className:"title-txt"},this.props.productName,this.props.videoUrl&&l.a.createElement("span",{className:"type-tag-film"}))),this.props.sellPoints&&l.a.createElement("ul",{className:m()({"state-box":!0,"box-border":this.props.inDetail&&this.props.sellPoints.length>=2})},i()(this.props.sellPoints,2).map(function(e,t){return l.a.createElement("li",{key:t,className:"state"},e)}))),l.a.createElement("div",{className:"col",onClick:this.handleStarClick},l.a.createElement("div",{className:m()({like:!0,active:this.props.stared})},l.a.createElement("span",{className:"shape"}),l.a.createElement("span",{className:"num"},l.a.createElement("i",null,this.props.starCount>999?"999+":this.props.starCount))),l.a.createElement("p",{className:"name"},this.props.starLabel),l.a.createElement("p",{className:"txt"},"为他代言")))},t.prototype.renderImg=function(){return l.a.createElement("div",{className:"sec-img"},l.a.createElement("div",{className:"img-box",style:{backgroundImage:"url("+r.i(v.b)(this.props.coverImg)+")"}},this.props.inDetail&&this.props.videoUrl&&l.a.createElement("div",{className:"play-btn",onClick:this.handlePlayBtnClick})))},t.prototype.renderTags=function(){return this.props.inDetail&&this.props.tags&&this.props.tags.length?l.a.createElement("div",{className:"sec-proj"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",null,this.props.tags[0],l.a.createElement("br",null),this.props.tags[1])),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,this.props.tags[2],l.a.createElement("br",null),this.props.tags[3])),l.a.createElement("div",{className:"col"},l.a.createElement("p",null,this.props.tags[4],l.a.createElement("br",null),this.props.tags[5])))):null},t.prototype.renderRoadShowEnroll=function(){return l.a.createElement("h3",{className:"state state-roadshow-reg"},l.a.createElement("span",{className:"txt"},"预热中"),l.a.createElement("span",{className:"btn btn-register",onClick:this.handleRoadShowEnrollBtnClick},"路演报名"))},t.prototype.renderMillion=function(){return l.a.createElement("h3",{className:"state state-roadshow-reg"},l.a.createElement("span",{className:"txt"},this.getSellStateText()),l.a.createElement("span",{className:"type-vip"},l.a.createElement("i",null),"VIP专享"))},t.prototype.renderSellState=function(){var e=this.props.actualInvestAmt>this.props.expectInvestAmt;return l.a.createElement("h3",{className:m()({state:!0,"state-over":this.props.inDetail&&e})},l.a.createElement("span",{className:"txt"},this.getSellStateText()),!this.props.inDetail&&l.a.createElement("span",{className:"progress-value-outside"},Math.round(this.props.actualInvestAmt/this.props.expectInvestAmt*100)+"%"))},t.prototype.renderProgressBar=function(){return this.props.inDetail?l.a.createElement(h.a,{value:this.props.actualInvestAmt,total:this.props.expectInvestAmt,withText:!0,withTag:!0}):l.a.createElement(h.a,{value:this.props.actualInvestAmt,total:this.props.expectInvestAmt})},t.prototype.renderProgressInfo=function(){return l.a.createElement("div",{className:"progress-info"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:"value"},this.props.actualInvestors||0),l.a.createElement("p",{className:"txt"},"人数上限",this.props.expectInvestors,"(人)")),l.a.createElement("div",{className:"col"},l.a.createElement("p",{className:"value"},y.a.format(this.props.actualInvestAmt||0)),l.a.createElement("p",{className:"txt"},"募集上限",l.a.createElement("span",null,y.a.format(this.props.expectInvestAmt)),"元"))))},t.prototype.renderProgress=function(){var e=this.canRoadShowEnroll(),t=!!this.props.million,r=!e&&!t;return this.props.inDetail&&t?l.a.createElement("div",{className:"type-vip-mod"},l.a.createElement("div",{className:"type-vip"},l.a.createElement("i",null),"VIP专享")):l.a.createElement("div",{className:"sec-progress"},l.a.createElement("div",{className:"progress-bar"},e&&this.renderRoadShowEnroll(),t&&this.renderMillion(),r&&this.renderSellState(),r&&this.renderProgressBar()),r&&this.renderProgressInfo())},t.prototype.renderBanner=function(){return this.props.inDetail&&!this.props.inCertifie&&this.props.banners&&this.props.banners.length>0&&this.props.banners[0].k?l.a.createElement("div",{className:"sec-business-plan"},l.a.createElement("div",{className:"plan",style:{backgroundImage:"url("+r.i(v.b)(this.props.banners[0].k)+")"},onClick:this.handleBannerClick(this.props.banners[0].v)})):null},t.prototype.renderDesc=function(){return this.props.inDetail&&!this.props.inCertifie?l.a.createElement("div",{className:"sec-desc",dangerouslySetInnerHTML:{__html:this.props.descHtml}}):null},t.prototype.render=function(){var e={};return this.props.inCertifie&&(e.marginBottom=0),l.a.createElement("div",{className:"zc-item",onClick:this.handleItemClick,style:e},this.renderTitle(),this.renderImg(),this.renderTags(),this.renderProgress(),this.renderBanner(),this.renderDesc())},t}(p.Component);g.displayName="CrowdFundingItem",g.propTypes={addStar:p.PropTypes.func,inDetail:p.PropTypes.bool,inCertifie:p.PropTypes.bool,million:p.PropTypes.number,goDetail:p.PropTypes.func,pid:p.PropTypes.number,productName:p.PropTypes.string,videoUrl:p.PropTypes.string,sellPoints:p.PropTypes.arrayOf(p.PropTypes.string),starCount:p.PropTypes.number,stared:p.PropTypes.bool,starLabel:p.PropTypes.string,coverImg:p.PropTypes.string,sellState:p.PropTypes.number,actualInvestors:p.PropTypes.number,expectInvestors:p.PropTypes.number,actualInvestAmt:p.PropTypes.number,expectInvestAmt:p.PropTypes.number,sellBeginTime:p.PropTypes.number,minBuyShare:p.PropTypes.number,tags:p.PropTypes.arrayOf(p.PropTypes.string),banners:p.PropTypes.arrayOf(p.PropTypes.shape({k:p.PropTypes.string,v:p.PropTypes.string})),descHtml:p.PropTypes.string,roadShowEnrollUrl:p.PropTypes.string},t.a=g},195:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(0),i=r.n(s),p=r(3),l=r.n(p),c=function(e){function t(r){n(this,t);var a=o(this,e.call(this,r));return a.state={totalWidth:0,textWidth:0},a}return a(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.setState({totalWidth:e.line&&e.line.offsetWidth||0,textWidth:e.text&&e.text.offsetWidth||0})},0)},t.prototype.renderLine=function(){var e=this,t=Math.min(this.props.value/this.props.total*100,100);return i.a.createElement("div",{ref:function(t){e.line=t},className:"progress-line-inner"},i.a.createElement("div",{className:"progress-line-bg",style:{width:t+"%"}}))},t.prototype.renderText=function(){var e=this,t=this.props.value/this.props.total,r=this.state,n=r.totalWidth,o=r.textWidth,a=Math.max(0,Math.min(Math.round(n*t-o/2),n-o));return i.a.createElement("div",{ref:function(t){e.text=t},className:"progress-line-text",style:{left:a+"px"}},Math.round(100*t)+"%")},t.prototype.renderTag=function(){return i.a.createElement("div",{className:"progress-line-overtag"})},t.prototype.render=function(){var e=this.props.value>this.props.total;return i.a.createElement("div",{className:l()({"progress-line-wrap":!0,"progress-bar-overflow":e})},this.renderLine(),this.props.withText&&this.renderText(),this.props.withTag&&e&&this.renderTag())},t}(s.Component);c.displayName="ProgressBar",c.propTypes={value:s.PropTypes.number,total:s.PropTypes.number,withText:s.PropTypes.bool,withTag:s.PropTypes.bool},c.defaultProps={value:0,total:1,withText:!1,withTag:!1},t.a=c},20:function(e,t,r){!function(r,n){function o(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function a(e){return m?m(e):"[object Array]"===h.call(e)}function s(e){return e&&"[object Object]"===h.call(e)}function i(e,t){var r;e=e||{},t=t||{};for(r in t)t.hasOwnProperty(r)&&null==e[r]&&(e[r]=t[r]);return e}function p(e,t,r){var n,o,a=[];if(!e)return a;if(f&&e.map===f)return e.map(t,r);for(n=0,o=e.length;n<o;n++)a[n]=t.call(r,e[n],n,e);return a}function l(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function c(e){var t=u.settings.currency.format;return"function"==typeof e&&(e=e()),o(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:o(t)?u.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var u={};u.version="0.4.1",u.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var f=Array.prototype.map,m=Array.isArray,h=Object.prototype.toString,d=u.unformat=u.parse=function(e,t){if(a(e))return p(e,function(e){return d(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||u.settings.number.decimal;var r=new RegExp("[^0-9-"+t+"]",["g"]),n=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(r,"").replace(t,"."));return isNaN(n)?0:n},y=u.toFixed=function(e,t){t=l(t,u.settings.number.precision);var r=Math.pow(10,t);return(Math.round(u.unformat(e)*r)/r).toFixed(t)},v=u.formatNumber=u.format=function(e,t,r,n){if(a(e))return p(e,function(e){return v(e,t,r,n)});e=d(e);var o=i(s(t)?t:{precision:t,thousand:r,decimal:n},u.settings.number),c=l(o.precision),f=e<0?"-":"",m=parseInt(y(Math.abs(e||0),c),10)+"",h=m.length>3?m.length%3:0;return f+(h?m.substr(0,h)+o.thousand:"")+m.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o.thousand)+(c?o.decimal+y(Math.abs(e),c).split(".")[1]:"")},g=u.formatMoney=function(e,t,r,n,o,f){if(a(e))return p(e,function(e){return g(e,t,r,n,o,f)});e=d(e);var m=i(s(t)?t:{symbol:t,precision:r,thousand:n,decimal:o,format:f},u.settings.currency),h=c(m.format),y=e>0?h.pos:e<0?h.neg:h.zero;return y.replace("%s",m.symbol).replace("%v",v(Math.abs(e),l(m.precision),m.thousand,m.decimal))};u.formatColumn=function(e,t,r,n,f,m){if(!e)return[];var h=i(s(t)?t:{symbol:t,precision:r,thousand:n,decimal:f,format:m},u.settings.currency),y=c(h.format),g=y.pos.indexOf("%s")<y.pos.indexOf("%v"),b=0,E=p(e,function(e,t){if(a(e))return u.formatColumn(e,h);e=d(e);var r=e>0?y.pos:e<0?y.neg:y.zero,n=r.replace("%s",h.symbol).replace("%v",v(Math.abs(e),l(h.precision),h.thousand,h.decimal));return n.length>b&&(b=n.length),n});return p(E,function(e,t){return o(e)&&e.length<b?g?e.replace(h.symbol,h.symbol+new Array(b-e.length+1).join(" ")):new Array(b-e.length+1).join(" ")+e:e})},"undefined"!=typeof e&&e.exports&&(t=e.exports=u),t.accounting=u}(this)},260:function(e,t,r){"use strict";function n(e){var t;return t={},t[o.a]={types:[a,s,i],endpoint:"crowdfundingList",json:!0,showLoading:e},t}var o=r(4);r.d(t,"b",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return i});var a="CF_LIST_REQUEST",s="CF_LIST_SUCCESS",i="CF_LIST_FAILURE";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(r,o){var a=o().page,s=a.isFetching,i=a.loaded;return s||i&&!e?null:r(n(t))}}},3:function(e,t,r){var n,o;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if("object"===o)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(n=[],o=function(){return r}.apply(t,n),!(void 0!==o&&(e.exports=o)))}()},33:function(e,t,r){function n(e){if(!e)return 0===e?e:0;if(e=o(e),e===a||e===-a){var t=e<0?-1:1;return t*s}return e===e?e:0}var o=r(16),a=1/0,s=1.7976931348623157e308;e.exports=n},34:function(e,t,r){function n(e){var t=o(e),r=t%1;return t===t?r?t-r:t:0}var o=r(33);e.exports=n},378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(568),a=r(529),s=r.i(n.a)(o.a,{stopTouchControl:!0});s(a.a)},422:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r(0),i=r.n(s),p=r(1),l=r.n(p),c=r(191),u=r(14),f=r(618),m=(r.n(f),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),h=function(e){function t(){var r,a,s;n(this,t);for(var p=arguments.length,u=Array(p),f=0;f<p;f++)u[f]=arguments[f];return r=a=o(this,e.call.apply(e,[this].concat(u))),a.goDetail=function(e){l.a.navigator.cfDetail(e)},a.renderItem=function(e){return i.a.createElement("li",{key:e.pid,className:"zc-item-box"},i.a.createElement(c.a,m({},e,{addStar:a.props.star,goDetail:a.goDetail})))},a.renderItems=function(e,t){return i.a.createElement("ul",t,e)},s=r,o(a,s)}return a(t,e),t.prototype.render=function(){return i.a.createElement("div",{className:"mod mod-zc-list"},i.a.createElement(u.a,{className:"zc-list-box",items:this.props.items,itemRenderer:this.renderItem,itemsRenderer:this.renderItems}))},t}(s.Component);h.displayName="CrowdFundingList",h.propTypes={items:s.PropTypes.arrayOf(s.PropTypes.object),star:s.PropTypes.func},t.a=h},529:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.page.items,r=void 0===t?[]:t,n=e.products,o=r.map(function(e){return y()({},e,n[e.pid])});return{items:o}}var i=r(0),p=r.n(i),l=r(5),c=r(1),u=r.n(c),f=r(260),m=r(146),h=r(422),d=r(2),y=r.n(d),v=function(e){function t(){return n(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentWillMount=function(){this.props.loadList()},t.prototype.componentDidMount=function(){var e=this;u.a.ui.window.openDropDownRefresh(function(){e.props.loadList(!0,!1)})},t.prototype.render=function(){return p.a.createElement(h.a,{items:this.props.items,star:this.props.star})},t}(i.Component);v.displayName="CrowdFundingListPage",v.propTypes={items:i.PropTypes.array,loadList:i.PropTypes.func,star:i.PropTypes.func},t.a=r.i(l.a)(s,{loadList:f.a,star:m.b})(v)},568:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,loaded:!1,items:[]},t=arguments[1];switch(t.type){case i.b:return a()({},e,{isFetching:!0});case i.c:return a()({},e,{isFetching:!1,loaded:!0,items:t.response.result.items});case i.d:return a()({},e,{isFetching:!1});case p.a:return a()({},e,{items:e.items.map(function(e){return e.pid!==t.response.result.pid?e:a()({},e,{starCount:t.response.result.starCount})})});default:return e}}var o=r(2),a=r.n(o),s=r(6),i=r(260),p=r(146);t.a=r.i(s.a)(n)},618:function(e,t){},86:function(e,t){function r(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}e.exports=r},950:function(e,t,r){e.exports=r(378)}},[950]);
//# sourceMappingURL=list_385a55d54cbb679d649b.js.map