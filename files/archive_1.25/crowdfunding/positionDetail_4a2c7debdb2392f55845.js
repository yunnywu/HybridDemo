webpackJsonp([18],{109:function(e,t,n){"use strict";function r(e,t,n,r){var a;return a={},a[i.a]={types:[o,n,c],endpoint:"cfProjectDynamic",json:!0,params:{ppid:e,page:t},showLoading:r},a}var i=n(4);n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c});var o="CF_POSITION_HISTORY_REQUEST",a="CF_POSITION_HISTORY_SUCCESS_INIT",s="CF_POSITION_HISTORY_SUCCESS_NEXT",c="CF_POSITION_HISTORY_FAILURE";t.a=function(e,t,n,i){return function(o,c){return c().page.isProjectDynamicFetching?null:o(r(e,t,n?a:s,i))}}},14:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return o(t,e),t.prototype.renderItems=function(){var e=this.props.items.map(this.props.itemRenderer),t=this.props.className;return this.props.itemsRenderer(e,{className:t})},t.prototype.render=function(){var e=this.props.items;return e&&0!==e.length?this.renderItems():null},t}(a.Component);c.displayName="List",c.propTypes={className:a.PropTypes.string,items:a.PropTypes.array.isRequired,itemRenderer:a.PropTypes.func,itemsRenderer:a.PropTypes.func},c.defaultProps={itemRenderer:function(e,t){return s.a.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return s.a.createElement("div",t,e)}},t.a=c},145:function(e,t,n){"use strict";function r(e,t){var n;return n={},n[i.a]={types:[o,a,s],endpoint:"cfPositionDetail",json:!0,params:{ppid:e},showLoading:t},n}var i=n(4);n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var o="CF_POSITION_DETAIL_REQUEST",a="CF_POSITION_DETAIL_SUCCESS",s="CF_POSITION_DETAIL_FAILURE";t.a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i){return i().page.isPositionDetailFetching?null:n(r(e,t))}}},158:function(e,t,n){function r(e,t,n){return e&&e.length?(t=n||void 0===t?1:o(t),i(e,0,t<0?0:t)):[]}var i=n(86),o=n(34);e.exports=r},16:function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=p.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):c.test(e)?a:+e}var i=n(8),o=n(37),a=NaN,s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=r},20:function(e,t,n){!function(n,r){function i(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function o(e){return f?f(e):"[object Array]"===d.call(e)}function a(e){return e&&"[object Object]"===d.call(e)}function s(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function c(e,t,n){var r,i,o=[];if(!e)return o;if(m&&e.map===m)return e.map(t,n);for(r=0,i=e.length;r<i;r++)o[r]=t.call(n,e[r],r,e);return o}function p(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function u(e){var t=l.settings.currency.format;return"function"==typeof e&&(e=e()),i(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:i(t)?l.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var l={};l.version="0.4.1",l.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var m=Array.prototype.map,f=Array.isArray,d=Object.prototype.toString,y=l.unformat=l.parse=function(e,t){if(o(e))return c(e,function(e){return y(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||l.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),r=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(r)?0:r},h=l.toFixed=function(e,t){t=p(t,l.settings.number.precision);var n=Math.pow(10,t);return(Math.round(l.unformat(e)*n)/n).toFixed(t)},v=l.formatNumber=l.format=function(e,t,n,r){if(o(e))return c(e,function(e){return v(e,t,n,r)});e=y(e);var i=s(a(t)?t:{precision:t,thousand:n,decimal:r},l.settings.number),u=p(i.precision),m=e<0?"-":"",f=parseInt(h(Math.abs(e||0),u),10)+"",d=f.length>3?f.length%3:0;return m+(d?f.substr(0,d)+i.thousand:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+i.thousand)+(u?i.decimal+h(Math.abs(e),u).split(".")[1]:"")},g=l.formatMoney=function(e,t,n,r,i,m){if(o(e))return c(e,function(e){return g(e,t,n,r,i,m)});e=y(e);var f=s(a(t)?t:{symbol:t,precision:n,thousand:r,decimal:i,format:m},l.settings.currency),d=u(f.format),h=e>0?d.pos:e<0?d.neg:d.zero;return h.replace("%s",f.symbol).replace("%v",v(Math.abs(e),p(f.precision),f.thousand,f.decimal))};l.formatColumn=function(e,t,n,r,m,f){if(!e)return[];var d=s(a(t)?t:{symbol:t,precision:n,thousand:r,decimal:m,format:f},l.settings.currency),h=u(d.format),g=h.pos.indexOf("%s")<h.pos.indexOf("%v"),E=0,b=c(e,function(e,t){if(o(e))return l.formatColumn(e,d);e=y(e);var n=e>0?h.pos:e<0?h.neg:h.zero,r=n.replace("%s",d.symbol).replace("%v",v(Math.abs(e),p(d.precision),d.thousand,d.decimal));return r.length>E&&(E=r.length),r});return c(b,function(e,t){return i(e)&&e.length<E?g?e.replace(d.symbol,d.symbol+new Array(E-e.length+1).join(" ")):new Array(E-e.length+1).join(" ")+e:e})},"undefined"!=typeof e&&e.exports&&(t=e.exports=l),t.accounting=l}(this)},202:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPositionDetailFetching:!1,isProjectDynamicFetching:!1,item:null,newsList:[]},t=arguments[1];switch(t.type){case s.b:return o()({},e,{isPositionDetailFetching:!0});case s.c:return o()({},e,{isPositionDetailFetching:!1,item:t.response.result});case s.d:return o()({},e,{isPositionDetailFetching:!1});case c.b:return o()({},e,{isProjectDynamicFetching:!0});case c.c:return o()({},e,{isProjectDynamicFetching:!1,newsList:t.response.result.newsList});case c.e:return o()({},e,{isProjectDynamicFetching:!1});default:return e}}var i=n(2),o=n.n(i),a=n(6),s=n(145),c=n(109);t.a=n.i(a.a)(r)},33:function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=e<0?-1:1;return t*a}return e===e?e:0}var i=n(16),o=1/0,a=1.7976931348623157e308;e.exports=r},34:function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(33);e.exports=r},380:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(202),o=n(534),a=n.i(r.a)(i.a);a(o.a)},428:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(158),s=n.n(a),c=n(0),p=n.n(c),u=n(1),l=n.n(u),m=n(14),f=n(20),d=n.n(f),y=n(619),h=(n.n(y),function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.newsItemRender=function(e,t){return p.a.createElement("li",{className:0===t?"current":"",key:t,onClick:o.handleItemClick(e.newsId)},p.a.createElement("p",{className:"event"},e.title),p.a.createElement("p",{className:"time"},e.reportTime),p.a.createElement("div",{className:"icon"}),p.a.createElement("div",{className:"border"}))},o.handleMoreClick=function(){l.a.navigator.cfProjectDynamics(o.props.ppid)},o.handleBtnClick=function(e){e.preventDefault(),l.a.navigator.cfDetail(o.props.item.pid)},a=n,i(o,a)}return o(t,e),t.prototype.componentWillMount=function(){this.props.loadPositionDetail(this.props.ppid),this.props.loadPositionHistory(this.props.ppid,1,!0,!0)},t.prototype.componentDidMount=function(){var e=this;l.a.ui.window.openDropDownRefresh(function(t){var n=e.props.loadPositionDetail(e.props.ppid,!1),r=e.props.loadPositionHistory(e.props.ppid,1,!0,!1),i=[];n&&i.push(n),r&&i.push(r),i.length?Promise.all(i).then(t).catch(t):t()}),l.a.ui.header.setRightBtn({type:l.a.ui.header.BTN_TYPE.CONTRACT_BTN,onClick:function(){l.a.navigator.cfAgreeList(e.props.item.ppid)}})},t.prototype.newsItemsRender=function(e){return p.a.createElement("ul",null,e)},t.prototype.handleSubscriptionFeeClick=function(){l.a.ui.tips("管理费说明","支付给领投人或项目管理方的管理费。领投人或管理方需对项目进行尽职调查、管理与监督，也需保证微股东与领投人的收益权的一致性")},t.prototype.handleItemClick=function(e){return function(t){t.preventDefault(),l.a.navigator.discoverDetail(e)}},t.prototype.render=function(){var e=this.props.item;return e?p.a.createElement("div",{className:"mod-zc-position"},p.a.createElement("div",{className:"zc-position-detail"},p.a.createElement("div",{className:"base"},p.a.createElement("div",{className:"title"},p.a.createElement("i",null),p.a.createElement("span",null,e.productName),p.a.createElement("img",{src:e.gpLogo,className:"logo-gp"})),p.a.createElement("ul",{className:"info"},p.a.createElement("li",null,p.a.createElement("span",null,"认购金额"),p.a.createElement("em",null,d.a.format(e.positionAmtE2/100),"元")),e.Z>0&&p.a.createElement("li",null,p.a.createElement("span",null,"管理费"),p.a.createElement("i",{className:"ques",onClick:this.handleSubscriptionFeeClick}),p.a.createElement("em",null,e.subscriptionFeeE2/100,"元")),e.serviceFeeE2>0&&p.a.createElement("li",null,p.a.createElement("span",null,"服务费"),p.a.createElement("em",null,e.serviceFeeE2/100,"元")),p.a.createElement("li",null,p.a.createElement("span",null,"股权占比"),p.a.createElement("em",{className:"proportion"},e.proportionE8/1e6,"%"))),p.a.createElement("div",{className:"gp"},p.a.createElement("i",{className:"icon"}),e.gpTip)),p.a.createElement("div",{className:"admeasure"},p.a.createElement("div",{className:"title"},p.a.createElement("i",null),"收益分配"),p.a.createElement("p",null,e.incomeAssignTip)),p.a.createElement("div",{className:"process"},p.a.createElement("div",{className:"title"},p.a.createElement("i",null),"项目动态"),p.a.createElement(m.a,{items:s()(this.props.newsList,3),itemsRenderer:this.newsItemsRender,itemRenderer:this.newsItemRender}),p.a.createElement("div",{className:"process-more",onClick:this.handleMoreClick},"查看更多",p.a.createElement("i",null)))),p.a.createElement("div",{className:"bottom-fixed"},p.a.createElement("a",{className:"btn",href:"#",onClick:this.handleBtnClick},"产品详情"))):null},t}(c.Component));h.displayName="CrowdFundingPositionDetail",h.propTypes={ppid:c.PropTypes.number,item:c.PropTypes.shape({ppid:c.PropTypes.number,pid:c.PropTypes.number,productName:c.PropTypes.string,gpLogo:c.PropTypes.string,gpTip:c.PropTypes.string,positionAmtE2:c.PropTypes.number,subscriptionFeeE2:c.PropTypes.number,serviceFeeE2:c.PropTypes.number,proportionE8:c.PropTypes.number,incomeAssignTip:c.PropTypes.string}),newsList:c.PropTypes.arrayOf(c.PropTypes.shape({newsId:c.PropTypes.number,title:c.PropTypes.string,reportTime:c.PropTypes.string})),loadPositionDetail:c.PropTypes.func.isRequired,loadPositionHistory:c.PropTypes.func.isRequired},t.a=h},534:function(e,t,n){"use strict";function r(e){var t=parseInt(e.query.ppid,10),n=e.page,r=n.item,i=n.newsList;return{ppid:t,item:r,newsList:i}}var i=n(5),o=n(145),a=n(109),s=n(428);t.a=n.i(i.a)(r,{loadPositionDetail:o.a,loadPositionHistory:a.a})(s.a)},619:function(e,t){},86:function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},952:function(e,t,n){e.exports=n(380)}},[952]);
//# sourceMappingURL=positionDetail_4a2c7debdb2392f55845.js.map